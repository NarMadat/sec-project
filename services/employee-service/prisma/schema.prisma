generator client {
  provider = "prisma-client-js"
  output   = "./generated"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Employee {
  id            String            @id @default(uuid())
  userId        String            @unique
  firstName     String
  lastName      String
  phoneNumber   String
  position      String
  status        EmployeeStatus    @default(ACTIVE)
  certifications Certification[]
  createdAt     DateTime          @default(now())
  updatedAt     DateTime          @updatedAt

  @@map("employees")
}

model Certification {
  id               String   @id @default(uuid())
  employeeId       String
  name             String
  issueDate        DateTime
  expiryDate       DateTime
  issuingAuthority String
  employee         Employee @relation(fields: [employeeId], references: [id], onDelete: Cascade)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  @@map("certifications")
}

enum EmployeeStatus {
  ACTIVE
  INACTIVE
  SUSPENDED
}
